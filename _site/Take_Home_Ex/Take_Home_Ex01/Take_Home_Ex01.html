<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Bhairavi">

<title>ISSS608-VAA - Take-Home Exercise 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608-VAA</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-on Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../Hands_on_Ex/Hands_on_Ex01/Hands_on_Ex01.html">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands_on_Ex/Hands_on_Ex02/Hands_on_Ex02.html">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take Home Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../Take_Home_Ex/Take_Home_Ex01/Take_Home_Ex01.html">
 <span class="dropdown-text">Take Home Exercise 1</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#dataset" id="toc-dataset" class="nav-link active" data-scroll-target="#dataset">Dataset</a></li>
  <li><a href="#preparation-steps" id="toc-preparation-steps" class="nav-link" data-scroll-target="#preparation-steps">Preparation Steps</a></li>
  <li><a href="#discussion-of-analysis" id="toc-discussion-of-analysis" class="nav-link" data-scroll-target="#discussion-of-analysis">Discussion of Analysis</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take-Home Exercise 1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Bhairavi </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>The following is my submission for Take-Home Exercise 1.</p>
<section id="dataset" class="level3">
<h3 class="anchored" data-anchor-id="dataset">Dataset</h3>
<p>The dataset used in this take-home exercise was downloaded from the following link, below the sub-section of Population Trends: <a href="https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data" class="uri">https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data</a></p>
<p>In my case, I have selected the <em>Singapore Residents by Planning Area / Subzone, Age Group, Sex and Floor Area of Residence, June 2022.csv</em> option. A zip folder will be downloaded. Upon unzipping the folder, there are two files that are contained in this unzipped folder; one for the raw dataset and one for the notes of the dataset (similar to a readme file).</p>
<p>Unzipped folder:</p>
<p><img src="images/01.png" class="img-fluid"></p>
<p>Dataset:</p>
<p><img src="images/02.png" class="img-fluid"></p>
<p>Notes of Dataset:</p>
<p><img src="images/03.png" class="img-fluid"></p>
</section>
<section id="preparation-steps" class="level3">
<h3 class="anchored" data-anchor-id="preparation-steps">Preparation Steps</h3>
<p>Now, let’s bring in this raw dataset to Tableau Desktop for our analysis. Please find below a reproducible description of the procedures used to prepare and create the analytical visualization in Tableau Desktop.</p>
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 35%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th>#</th>
<th>Step</th>
<th>Screenshot</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td><p>In Tableau Desktop, in the Data Source pane, click on “Text file” (since we are dealing with a csv file and not an excel file).</p>
<p>When the popup prompts you to choose a file, click on the raw dataset.</p></td>
<td><p><img src="images/04.png" class="img-fluid"></p>
<p><img src="images/05.png" class="img-fluid"></p></td>
</tr>
<tr class="even">
<td>2</td>
<td><p>Once the raw dataset is loaded, note that the data source name and field names are not that meaningful. Let’s first change the data source name to: Planning Area - Jun 2022.</p>
<p>Let’s also change the field names according to the Notes of Dataset file that was in the unzipped folder.</p></td>
<td><p><img src="images/06.png" class="img-fluid"></p>
<p><img src="images/07.png" class="img-fluid"></p>
<p><img src="images/08.png" class="img-fluid"></p>
<p><img src="images/09.png" class="img-fluid"></p></td>
</tr>
<tr class="odd">
<td>3</td>
<td>Once the field names are updated, notice that the field <em>Time</em> is identified to be a numerical field. However, this is supposed to reflect the Year of the record. Hence, let’s change this field’s datatype to Date.</td>
<td><p><img src="images/10.png" class="img-fluid"></p>
<p><img src="images/11.png" class="img-fluid"></p>
<p><img src="images/12.png" class="img-fluid"></p></td>
</tr>
<tr class="even">
<td>4</td>
<td><p>In our task, we want to plot the male population and female population against their age groups. For this, let’s create two calculated fields to distinguish the populations by gender.</p>
<p>Create a calculated field for <em>Male Population</em> (where <em>Sex</em> is “Males”).</p>
<p>Likewise, create a calculated field for <em>Female Population</em> (where <em>Sex</em> is “Females”).</p></td>
<td><p><img src="images/13.png" class="img-fluid"></p>
<p><img src="images/14.png" class="img-fluid"></p>
<p><img src="images/15.png" class="img-fluid"></p></td>
</tr>
<tr class="odd">
<td>5</td>
<td><p>Notice that the values in the <em>Age Group</em> field are in bins of 5. Let’s group these values into bins of 15 to simplify our analysis.</p>
<p>Right click on the <em>Age Group</em> field and click on “Create Group…”.</p>
<p>Let’s create the following groupings to create age groups with bins of 15.</p></td>
<td><p><img src="images/46.png" class="img-fluid"></p>
<p><img src="images/47.png" class="img-fluid"></p></td>
</tr>
<tr class="even">
<td>6</td>
<td><p>In our task, it is stated that we only show 9 planning areas in a view. So, to reduce the size of the data that we load, let’s filter the data source to only keep 9 planning areas in the data. Click on “Add” to add a new data source filter.</p>
<p>In the Data Source Filters popup, click on “Add” to add a new filter for the <em>Planning Area</em> field.</p>
<p>Once you click on “Ok”, you will be prompted in a popup to choose which values in the <em>Planning Area</em> field you want to keep in the view. Select the tab “Top”, and the radio button “By field” to choose the Top 9 by <em>Population Sum</em>. This will filter the data to only show the top 9 planning areas which have the highest population.</p>
<p>Click on “Ok” to close the popup. Notice that the Data Source Filters popup, there is a new row stating that <em>Planning Area</em> keeps 9 of 55 members. This indicates that our filter is successfully applied.</p>
<p>Click on “Ok” to close the Data Source Filters popup. Notice now that the upper right hand corner indicates that there is one filter being applied to the data source.</p></td>
<td><p><img src="images/16.png" class="img-fluid"></p>
<p><img src="images/17.png" class="img-fluid"></p>
<p><img src="images/18.png" class="img-fluid"></p>
<p><img src="images/19.png" class="img-fluid"></p>
<p><img src="images/20.png" class="img-fluid"></p>
<p><img src="images/21.png" class="img-fluid"></p></td>
</tr>
<tr class="odd">
<td>7</td>
<td><p>Now, let’s build the visualization in “Sheet 1”. To set the base for our visualization, which is going to be a 3x3 matrix, let’s create two calculated fields; one for columns and one for rows.</p>
<p>Drag <em>Columns</em> and <em>Rows</em> fields to the Column and Row panes respectively.</p>
<p>Your view will look like a quadrant.</p>
<p>Let’s switch the <em>Columns</em> and <em>Rows</em> fields from Continuous to Discrete.</p>
<p>Your view will be updated to a table.</p></td>
<td><p><img src="images/48.png" class="img-fluid"></p>
<p><img src="images/49.png" class="img-fluid"></p>
<p><img src="images/50.png" class="img-fluid"></p>
<p><img src="images/51.png" class="img-fluid"></p>
<p><img src="images/52.png" class="img-fluid"></p></td>
</tr>
<tr class="even">
<td>8</td>
<td>Now, let’s drag the two calculated fields we created (<em>Male Population</em> &amp; <em>Female Population</em>) to the Columns pane and the <em>Age Group (Group)</em> field to the Rows pane. Notice now that we have two bar charts - one for male population and one for female population, for each age group in our dataset.</td>
<td><img src="images/53.png" class="img-fluid"></td>
</tr>
<tr class="odd">
<td>9</td>
<td><p>Let’s convert our bar charts for the genders into a pyramid-like view by editing the axis for the <em>Male Population</em> field. Right click on the axis for <em>Male Population</em> field and select “Edit Axis”.</p>
<p>In the popup, under the section “Scale”, tick the check-box for “Reversed” to reverse the axis for the <em>Male Population</em> field. Now, if you close this popup, you will notice that the divider between the two bar charts indicates that the axis starts from 0K.</p></td>
<td><p><img src="images/54.png" class="img-fluid"></p>
<p><img src="images/55.png" class="img-fluid"></p>
<p><img src="images/56.png" class="img-fluid"></p></td>
</tr>
<tr class="even">
<td>10</td>
<td>Now that we have a pyramid-like view for the age-sex breakdown, let’s bring in the planning area information by dragging the field <em>Planning Area</em> into the Details section of the All marks card.</td>
<td><img src="images/57.png" class="img-fluid"></td>
</tr>
<tr class="odd">
<td>11</td>
<td><p>Let’s update how the calculated fields <em>Columns</em> and <em>Rows</em> are computed - which should be based on the <em>Planning Area</em> field.</p>
<p>Notice now that the view has been updated to a 3x3 matrix.</p></td>
<td><p><img src="images/58.png" class="img-fluid"></p>
<p><img src="images/59.png" class="img-fluid"></p>
<p><img src="images/60.png" class="img-fluid"></p></td>
</tr>
<tr class="even">
<td>12</td>
<td><p>To distinguish between the two genders in our view, let’s color the bars accordingly.</p>
<p>In the marks card for <em>Male Population</em> field, change the color to teal.</p>
<p>Similarly, in the marks card for <em>Female Population</em> field, change the color to red.</p>
<p>Now, we can clearly distinguish between the Male and Female bars in our view.</p></td>
<td><p><img src="images/26.png" class="img-fluid"></p>
<p><img src="images/27.png" class="img-fluid"></p>
<p><img src="images/61.png" class="img-fluid"></p></td>
</tr>
<tr class="odd">
<td>13</td>
<td><p>Now, let’s do some formatting to the view starting with how the view is displayed.</p>
<p>Let’s change the view from”Standard” to “Entire View” to spread out our display.</p></td>
<td><img src="images/62.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>14</td>
<td><p>Now we can view the full chart in the view. However, it still looks cluttered. Let’s remove the axis headers for both <em>Male Population</em> and <em>Female Population</em> fields.</p>
<p>Right click on the axis header and un-check “Show Header” for either of the axis. This will remove the axis header in our chart.</p>
<p>Let’s also remove the header for the <em>Row</em> and <em>Columns</em> fields. Un-check “Show Header” for both these fields.</p></td>
<td><p><img src="images/31.png" class="img-fluid"></p>
<p><img src="images/63.png" class="img-fluid"></p>
<p><img src="images/64.png" class="img-fluid"></p></td>
</tr>
<tr class="odd">
<td>15</td>
<td>Let’s format the bars in the view now. Under the marks card for All, drag the slider to reduce the size of the bars till the recommended size (indicated by a pipe).</td>
<td><img src="images/33.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>16</td>
<td><p>Notice that there are many grid lines in our chart which makes the view cluttered. To format grid line, right click on the view and select the “Format” option.</p>
<p>In the format panel, click on the icon for grid lines. Under the tab “Columns”, set Grid Lines to None. Notice now that the view looks much cleaner.</p></td>
<td><img src="images/34.png" class="img-fluid"><img src="images/35.png" class="img-fluid"></td>
</tr>
<tr class="odd">
<td>17</td>
<td><p>Let’s include the text labels by including the relevant fields in the label section of the marks card.</p>
<p>For the male population marks card, let’s drag the <em>SUM(Male Population)</em> field to the label section. To format this text label, right click on the <em>SUM(Male Population</em>) field in the marks card and click on “Format”.</p>
<p>In the format panel, click on “Pane”. Under the “Numbers” option, select “Custom”. Change the number of decimal places to 0 and the display units to thousands.</p>
<p>Repeat the same steps for the <em>SUM(Female Population)</em> field.</p></td>
<td><p><img src="images/65.png" class="img-fluid"></p>
<p><img src="images/39.png" class="img-fluid"></p>
<p><img src="images/40.png" class="img-fluid"></p></td>
</tr>
<tr class="even">
<td>18</td>
<td><p>Notice that the y-axis, <em>Age Group (Group)</em> field is sorted by default.</p>
<p>Let’s switch this to sort by descending order so that we can view the age group starting from the youngest age to the oldest age. Right click on <em>Age Group (Group)</em> field in the Rows pane and select “Sort”.</p>
<p>In the popup, change the sort order to “Descending”.</p></td>
<td><p><img src="images/66.png" class="img-fluid"></p>
<p><img src="images/42.png" class="img-fluid"></p></td>
</tr>
<tr class="odd">
<td>19</td>
<td><p>Let’s also sort the x-axis, <em>Planning Area</em> field to be in descending order based on the sum of population. To do this, let’s right click the <em>Planning Area</em> field in the All marks card and select “Sort”.</p>
<p>For the <em>Planning Area</em> field, let’s sort by Sum of Population in descending order.</p></td>
<td><p><img src="images/67.png" class="img-fluid"></p>
<p><img src="images/44.png" class="img-fluid"></p></td>
</tr>
<tr class="even">
<td>20</td>
<td><p>Now, we have our 3x3 matrix of male and female population by their age groups in the top 9 planning areas by population. However, at one glance, we can’t say what are these top 9 planning areas. To bring the <em>Planning Area</em> field as a text label for this view, let’s create a dummy calculated field called <em>dummy</em>.</p>
<p>This <em>dummy</em> field is being assigned the value of 40K for the age group of “90 and above”. The reason we choose this age group is because we want our text label to be shown on the same row as this age group value in our trellis chart. As for the value of 40K, I chose this because it is higher than those values in our trellis chart.</p></td>
<td><p><img src="images/68.png" class="img-fluid"></p>
<p><img src="images/69.png" class="img-fluid"></p></td>
</tr>
<tr class="odd">
<td>21</td>
<td><p>Bring this new calculated field, <em>dummy</em>, into the view on the Columns panel. Ensure that the <em>dummy</em> field is taking the AVG and not the SUM.</p>
<p>Make this <em>dummy</em> field a dual axis with the <em>Female Population</em> field.</p>
<p>Right click on the axis header for the <em>dummy</em> field and click on “Synchronize Axis”.</p></td>
<td><p><img src="images/72.png" class="img-fluid"></p>
<p><img src="images/70.png" class="img-fluid"></p>
<p><img src="images/71.png" class="img-fluid"></p></td>
</tr>
<tr class="even">
<td>22</td>
<td><p>Now, let’s format this <em>dummy</em> field. We do not want any axis headers so let’s remove that first by un-checking “Show Header” after we right click on the <em>dummy</em> field’s axis header.</p>
<p>Let’s also un-check “Show Header” for the <em>Female Population</em> field.</p></td>
<td><p><img src="images/73.png" class="img-fluid"></p>
<p><img src="images/86.png" class="img-fluid"></p></td>
</tr>
<tr class="odd">
<td>23</td>
<td>We also do not want any colored bars to be shown for the dummy field. Let’s remove the <em>measure names</em> field from the colors section in the marks card for both the <em>dummy</em> field and <em>Female Population</em> fields.</td>
<td><p><img src="images/74.png" class="img-fluid"></p>
<p><img src="images/75.png" class="img-fluid"></p>
<p><img src="images/76.png" class="img-fluid"></p>
<p><img src="images/77.png" class="img-fluid"></p></td>
</tr>
<tr class="even">
<td>24</td>
<td>Let’s also reduce the size of the bars for the <em>dummy</em> field to the smallest possible size.</td>
<td><img src="images/78.png" class="img-fluid"></td>
</tr>
<tr class="odd">
<td>25</td>
<td>We shall also make the <em>dummy</em> field’s color to be completely opaque with no borders.</td>
<td><img src="images/79.png" class="img-fluid"></td>
</tr>
<tr class="even">
<td>26</td>
<td><p>Before adding the <em>Planning Area</em> field to the text section in the marks card for the <em>dummy</em> field, let’s also change the type or mark from “Bar” into “Circle”.</p>
<p>Then, drag the <em>Planning Area</em> field into the text section in the marks card.</p></td>
<td><p><img src="images/81.png" class="img-fluid"></p>
<p><img src="images/82.png" class="img-fluid"></p>
<p><img src="images/83.png" class="img-fluid"></p></td>
</tr>
<tr class="odd">
<td>27</td>
<td><p>Let’s format the text label to be bigger, bold, as well as center-aligned.</p>
<p>Now we have a clean and insightful view that is ready for analysis!</p></td>
<td><p><img src="images/84.png" class="img-fluid"></p>
<p><img src="images/85.png" class="img-fluid"></p>
<p><img src="images/87.png" class="img-fluid"></p></td>
</tr>
</tbody>
</table>
</section>
<section id="discussion-of-analysis" class="level3">
<h3 class="anchored" data-anchor-id="discussion-of-analysis">Discussion of Analysis</h3>
<p>The following section elaborates on the patterns revealed by the analytical visualization that was built using Tableau Desktop.</p>
<p>Here are the key points that we will be discussing:</p>
<ol type="1">
<li>Top 10 Planning Areas</li>
<li>xx</li>
<li>zz</li>
</ol>
<p>This concludes the work submitted for Take-Home Exercise 1. Thank you.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>